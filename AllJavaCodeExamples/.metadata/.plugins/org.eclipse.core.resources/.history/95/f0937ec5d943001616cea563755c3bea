import java.awt.*;
import java.awt.event.*;
import javax.swing.*;

public class GraphicsJPanel extends JPanel implements MouseListener, MouseMotionListener {

	private int prevX, prevY; // The previous location of the mouse.
	private int drawWidth = 500;
	private int drawHeight = 400;

	public GraphicsJPanel() {
		setBackground(Color.white);
		addMouseListener(this);
		addMouseMotionListener(this);
	}

	public void mousePressed(MouseEvent evt) {
		prevX = evt.getX(); // x-coordinate where the user clicked.
		prevY = evt.getY(); // y-coordinate where the user clicked.
	}

	public void mouseDragged(MouseEvent evt) {
		int x = evt.getX(); // x-coordinate of mouse.
		int y = evt.getY(); // y=coordinate of mouse.

		Graphics g = getGraphics();

		// Make sure that we are in the drawing region and then draw the line.
		if ((x > 0) && (x < drawWidth) && (y > 0) && (y < drawHeight) && (prevX > 0) && (prevX < drawWidth)
				&& (prevY > 0) && (prevY < drawHeight))
			g.drawLine(prevX, prevY, x, y);

		// Get ready for the next line segment in the curve.
		prevX = x;
		prevY = y;
	}

	// Some empty routines. These are required by the MouseListener
	// and MouseMotionListener interfaces.
	public void mouseEntered(MouseEvent evt) {
	}

	public void mouseExited(MouseEvent evt) {
	}

	public void mouseClicked(MouseEvent evt) {
	}

	public void mouseMoved(MouseEvent evt) {
	}

	public void mouseReleased(MouseEvent evt) {
	}
}
