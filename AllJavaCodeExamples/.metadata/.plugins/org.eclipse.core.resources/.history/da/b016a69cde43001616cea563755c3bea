import java.awt.*;
import java.awt.event.*;
import java.util.Random;

import javax.swing.*;

public class GraphicsJPanel extends JPanel implements MouseListener, MouseMotionListener {

	private int prevX, prevY; // The previous location of the mouse.
	private Color drawColor;

	public GraphicsJPanel() {
		setBackground(Color.white);
		addMouseListener(this);
		addMouseMotionListener(this);
	}
	
	public void clearScreen() {
		Graphics g = getGraphics();

		int drawWidth = getWidth();
		int drawHeight = getHeight();

		g.setColor(Color.WHITE);
		g.fillRect(0, 0, drawWidth, drawHeight);
		g.setColor(Color.BLACK);
		g.drawRect(0, 0, drawWidth, drawHeight);
	}

	public void randomLines() {
		Graphics g = getGraphics();
		Random gen = new Random();

		int drawWidth = getWidth();
		int drawHeight = getHeight();

		for (int i = 0; i < 300; i++) {
			g.setColor(new Color(gen.nextInt(255), gen.nextInt(255), gen
					.nextInt(255)));
			g.drawLine(gen.nextInt(drawWidth), gen.nextInt(drawHeight),
					gen.nextInt(drawWidth), gen.nextInt(drawHeight));
		}
	}

	public void paint(Graphics g) {
		super.paint(g);

		int drawWidth = getWidth();
		int drawHeight = getHeight();

		g.setColor(Color.WHITE);
		g.fillRect(0, 0, drawWidth, drawHeight);
		g.setColor(Color.BLACK);
		g.drawRect(0, 0, drawWidth, drawHeight);
	}

	public void mousePressed(MouseEvent evt) {
		prevX = evt.getX(); // x-coordinate where the user clicked.
		prevY = evt.getY(); // y-coordinate where the user clicked.
	}

	public void mouseDragged(MouseEvent evt) {
		int x = evt.getX(); // x-coordinate of mouse.
		int y = evt.getY(); // y=coordinate of mouse.
		int drawWidth = getWidth();
		int drawHeight = getHeight();

		Graphics g = getGraphics();

		// Make sure that we are in the drawing region and then draw the line.
		if ((x > 0) && (x < drawWidth) && (y > 0) && (y < drawHeight)
				&& (prevX > 0) && (prevX < drawWidth) && (prevY > 0)
				&& (prevY < drawHeight))
			g.drawLine(prevX, prevY, x, y);

		// Get ready for the next line segment in the curve.
		prevX = x;
		prevY = y;
	}

	// Some empty routines. These are required by the MouseListener
	// and MouseMotionListener interfaces.

	public void mouseReleased(MouseEvent evt) {
	}

	public void mouseClicked(MouseEvent evt) {
	}

	public void mouseEntered(MouseEvent evt) {
	}

	public void mouseExited(MouseEvent evt) {
	}

	public void mouseMoved(MouseEvent evt) {
	}
}
